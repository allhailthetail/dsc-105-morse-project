#+TITLE: Morse Project Presentation Prep
#+AUTHOR: Matthew Younger
#+DATE: 2025-11-18

#+STARTUP: indent overview hideblocks entitiespretty
#+PROPERTY: header-args:elisp :results output
#+PROPERTY: header-args:R :session *R* :results output
#+PROPERTY: header-args:python :noweb yes :comments noweb :results output
#+PROPERTY: header-args:cpp :noweb yes :comments noweb :results output
#+PROPERTY: header-args:sh :results silent

:ELISP-HELPERS:
Org Customizations
#+name: Emacs tweaks
#+begin_src elisp
(+org-pretty-mode t)
(flyspell-mode 0)
(org-mode-restart) ;; Ensures the headers get read if created from template.
#+end_src

Tangle =functions.org= for use in this project, also:
#+name: tangle functions.org
#+begin_src elisp
(org-babel-tangle-file "../functions.org" "./presentation/R/project_functions.R")
#+end_src

#+RESULTS:
| /home/matthew/playground/morse-project/R/project_functions.R | /home/matthew/playground/morse-project/presentation/R/project_functions.R |

These will be used to permanently hold the illustrations for the presentation.
#+name: Create plots directories
#+begin_src bash
mkdir -p ./img
#+end_src

Adjusted to the subdir for the presentation:
#+name: initialize R
#+begin_src R
# Get and set the working directory:
paste0(Sys.getenv("MORSE_ROOT"), "presentation/") -> projectRoot
setwd(projectRoot)
#+end_src

#+name: import dependencies
#+begin_src R
source("R/project_functions.R")
library(seewave)
library(tuneR)
#+end_src

Project Cleanup
#+name: Project Cleanup Interactive
#+begin_src elisp :results silent
(defun +temp/cleanup-this-project ()
  "Cleans up trivial/generated project files"
  (interactive) ;; make this available with M-x
  (+org/remove-result-blocks 0) ;; remove result blocks back to the beginning...
  (delete-directory project-dir t) ;; delete src directory
  (delete-directory "R" t) ;; Delete R functions derived from one dir up.
  (delete-directory "img" t)) ;; Delete the img folder
  #+end_src

Tangle all files automatically
#+name: Tangle All Blocks
#+begin_src elisp
;; It's nice if when calling org-babel-execute-buffer, that includes tangling all my files...
(org-babel-tangle) ;; tangle everything as a last step...
#+end_src

:END:

* Morse Project/Music Notes Spectrograms

#+name: spectrogram: A flat piano
#+begin_src R :results file graphics :file img/a-flat-note-piano.png
file <- 'data/notes/a-flat-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - A Flat")
#+end_src

#+name: spectrogram: B flat piano
#+begin_src R :results file graphics :file img/b-flat-note-piano.png
file <- 'data/notes/b-flat-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - B Flat")
#+end_src

#+name: spectrogram: C sharp piano
#+begin_src R :results file graphics :file img/c-sharp-note-piano.png
file <- 'data/notes/c-sharp-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - C Sharp")
#+end_src

#+name: spectrogram: D sharp piano
#+begin_src R :results file graphics :file img/d-sharp-note-piano.png
file <- 'data/notes/d-sharp-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - D Sharp")
#+end_src

#+name: spectrogram: E note piano
#+begin_src R :results file graphics :file img/e-note-piano.png
file <- 'data/notes/e-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - E Note")
#+end_src

#+name: spectrogram: F sharp piano
#+begin_src R :results file graphics :file img/f-sharp-note-piano.png
file <- 'data/notes/f-sharp-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - F Sharp")
#+end_src

#+name: spectrogram: G sharp piano
#+begin_src R :results file graphics :file img/g-sharp-note-piano.png
file <- 'data/notes/g-sharp-note-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Piano - G Sharp")
#+end_src

* Morse Project/Music Piano Chord Spectrograms

#+name: spectrogram: High C piano chord
#+begin_src R :results file graphics :file img/high-c-chord-piano.png
file <- 'data/chords/high-c-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "High C Piano Chord")
#+end_src

#+name: spectrogram: D sharp piano chord
#+begin_src R :results file graphics :file img/d-sharp-chord-piano.png
file <- 'data/chords/d-sharp-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "D Sharp Piano Chord")
#+end_src

#+name: spectrogram: C minor piano chord
#+begin_src R :results file graphics :file img/d-sharp-chord-piano.png
file <- 'data/chords/c-minor-piano.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "C Minor Piano Chord")
#+end_src

* Morse Project/Music Guitar Chord Spectrograms

#+name: spectrogram: C Major guitar chord
#+begin_src R :results file graphics :file img/c-major-chord-guitar.png
file <- 'data/chords/c-major-guitar.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 1), main = "C Major Guitar Chord")
#+end_src

#+name: spectrogram: C Minor guitar chord
#+begin_src R :results file graphics :file img/c-minor-chord-guitar.png
file <- 'data/chords/c-minor-guitar.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 4), main = "C Minor Guitar Chord")
#+end_src

#+name: spectrogram: D Sharp guitar chord
#+begin_src R :results file graphics :file img/d-sharp-chord-guitar.png
file <- 'data/chords/d-sharp-guitar.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 2.5), main = "D Sharp Guitar Chord")
#+end_src

#+name: spectrogram: E Major 7th fret guitar chord
#+begin_src R :results file graphics :file img/e-maj7-chord-guitar.png
file <- 'data/chords/emaj7-guitar.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 3), main = "E Major 7 Guitar Chord")
#+end_src

#+name: spectrogram: A Major guitar chord
#+begin_src R :results file graphics :file img/a-maj-chord-guitar.png
file <- 'data/chords/amaj-guitar.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 3), main = "A Major Guitar Chord")
#+end_src

* Morse Project/Poetry Spectrogram

#+name: spectrogram: Patrick Stewart Sonnet 18
#+begin_src R :results file graphics :file img/p-stewart-sonnet-18.png
file <- 'data/voice/patrick-stewart-sonnet-18.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Patrick Stewart Sonnet 18", tlim = c(0,15))
#+end_src

#+name: spectrogram: Self Sonnet 18
#+begin_src R :results file graphics :file img/self-sonnet-18.png
file <- 'data/voice/sonnet-18.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 7), main = "Sonnet 18", tlim = c(0,14))
#+end_src

* Morse Project/Wildlife Spectrogram

#+name: spectrogram: Wild Turkey Call
#+begin_src R :results file graphics :file img/wild-turkey.png
file <- 'data/wildlife/turkey.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 5), main = "Wild Turkey Call")
#+end_src

#+name: spectrogram: Timber Wolf Call
#+begin_src R :results file graphics :file img/timber-wolf.png
file <- 'data/wildlife/timber-wolf-1.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 2), main = "Timber Wolf Call")
#+end_src

#+name: spectrogram: Mockingbird Call
#+begin_src R :results file graphics :file img/mockingbird.png
file <- 'data/wildlife/mockingbird.wav'
read_wav(file) -> wav_clean
wav_clean <- rmnoise(wav_clean, output = "Wave")
spectro(wav_clean, flim = c(1.75, 5.5), main = "Northern Mockingbird Call")
#+end_src

* Morse Project/Anthropogenic Sounds

#+name: spectrogram: Police Siren
#+begin_src R :results file graphics :file img/police-siren.png
file <- 'data/anthro/police-siren.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, flim = c(0, 2), main = "Police Siren")
#+end_src

#+name: spectrogram - Church Choir
#+begin_src R :results file graphics :file img/emmanuel.png
file <- 'data/anthro/emmanuel-full.wav'
read_wav(file) -> wav_clean
spectro(wav_clean, tlim = c(35,57), flim = c(0, 2), main = "Choir - Emmanuel")
#+end_src
